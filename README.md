# Project: Serverless AI Assistant with AWS Lambda, Bedrock, and DynamoDB

This project demonstrates how to build a serverless, conversational AI assistant using AWS Lambda, Amazon Bedrock for generative AI, and Amazon DynamoDB for persistent storage. The application can answer questions and manage a to-do list.

## Features

*   **Conversational Q&A:** Ask general knowledge questions and get answers generated by a powerful large language model via Amazon Bedrock.
*   **To-Do List Management:** Add, view, and remove items from a personal to-do list.
*   **Persistent Storage:** Each user's to-do list is stored in a DynamoDB table, identified by a unique UserID.
*   **Serverless:** The entire backend logic runs on AWS Lambda.
*   **Unit Tested:** The to-do list logic is verified with unit tests using the `moto` library.

## High-Level Architecture

1.  **User Input:** A user sends a command or question to the application's endpoint.
2.  **API Gateway (Optional):** **Amazon API Gateway** can create a secure, scalable HTTP endpoint.
3.  **Lambda Function:** The API Gateway triggers the **AWS Lambda function**, which contains the core application logic:
    *   It parses the incoming request to determine the user's intent (question or to-do command).
    *   For questions, it invokes a foundation model via **Amazon Bedrock**.
    *   For to-do commands, it interacts with **Amazon DynamoDB**.
4.  **Backend Services:**
    *   **Amazon Bedrock:** Provides access to foundation models for generative AI.
    *   **Amazon DynamoDB:** Stores user-specific to-do lists.
5.  **Response:** The Lambda function formats a reply and sends it back to the user.

## AWS Services Used

*   **AWS Lambda:** For serverless compute.
*   **Amazon Bedrock:** For generative AI and question-answering.
*   **Amazon DynamoDB:** For persistent, serverless NoSQL database storage.
*   **AWS IAM (Identity and Access Management):** For securely managing permissions between services.
*   **(Optional) Amazon API Gateway:** To create an HTTP endpoint.

## Setup and Deployment

### 1. Create the DynamoDB Table
Create a DynamoDB table for the to-do lists using the AWS CLI:

```bash
# Create the DynamoDB table
aws dynamodb create-table \
    --table-name AI-Assistant-Users \
    --attribute-definitions AttributeName=UserID,AttributeType=S \
    --key-schema AttributeName=UserID,KeyType=HASH \
    --provisioned-throughput ReadCapacityUnits=5,WriteCapacityUnits=5
```

### 2. Configure the Lambda Function
1.  **Create a Lambda Function:** In the AWS Console, create a new Lambda function with a Python runtime.
2.  **Set Environment Variables:**
    *   `DYNAMODB_TABLE_NAME`: `AI-Assistant-Users`
    *   `BEDROCK_MODEL_ID`: `anthropic.claude-3-sonnet-20240229-v1:0` (or another model of your choice).
3.  **Create an IAM Role:** Create a Lambda execution role with the following permissions:
    *   **DynamoDB:** `dynamodb:GetItem`, `dynamodb:PutItem`, `dynamodb:UpdateItem` on your table.
    *   **Bedrock:** `bedrock:InvokeModel` on the specific model resource you intend to use.
    *   **CloudWatch Logs:** Basic permissions for logging (`logs:CreateLogGroup`, `logs:CreateLogStream`, `logs:PutLogEvents`).
4.  **Upload the Code:** Package the contents of the `lambda_function` directory into a ZIP file and upload it.

## How to Use

*   **To ask a question:** Text something like, `What is the largest planet in our solar system?`
*   **To add a to-do:** `add buy groceries`
*   **To view your list:** `list todos`
*   **To remove a to-do:** `remove 1`

## Running the Unit Tests

The project includes unit tests for the to-do list logic.

1.  **Install Dependencies:**
    ```bash
    pip install boto3 moto
    ```

2.  **Run the tests:**
    Navigate to the project's root directory and run:
    ```bash
    python -m unittest tests/test_main.py
    ```